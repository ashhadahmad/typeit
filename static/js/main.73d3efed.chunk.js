(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{253:function(e,a,t){e.exports=t(495)},258:function(e,a,t){},495:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(249),s=t.n(c),l=(t(258),t(16)),i=t(17),o=t(19),m=t(18),u=t(20),d=t(498),h=t(500),E=t(496),f=t(499),p=t(266),b=t(497),N=t(8),v=Object(N.b)(null,function(e){return{signout:function(){return e(function(e,a,t){(0,t.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})}}})(function(e){var a=e.act;return r.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu ".concat(a)},r.a.createElement("div",{className:"navbar-end"},r.a.createElement(b.a,{to:"/create",className:"navbar-item"},"New Post"),r.a.createElement("a",{onClick:e.signout,className:"navbar-item"},"Logout"),r.a.createElement("a",{className:"navbar-item"},r.a.createElement("span",{className:"icon"},r.a.createElement("i",{className:"far fa-user"}," ")),e.name)))}),g=function(e){var a=e.act;return r.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu ".concat(a)},r.a.createElement("div",{className:"navbar-end"},r.a.createElement(b.a,{to:"/signup",className:"navbar-item"},"Sign Up"),r.a.createElement(b.a,{to:"/signin",className:"navbar-item"},"Sign In")))},j=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={active:!1},t.toggleActive=function(){t.setState({active:!t.state.active})},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"renderlinks",value:function(){var e=this.state.active?"is-active":"";return this.props.auth.uid?r.a.createElement(v,{act:e,name:this.props.profile.firstname}):r.a.createElement(g,{act:e})}},{key:"render",value:function(){var e=this.state.active?"is-active":"";return r.a.createElement("nav",{className:"navbar is-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(p.a,{to:"/",className:"navbar-item"},r.a.createElement("h1",{className:"title has-text-white\t"},"Typeit")),r.a.createElement("a",{href:"#",role:"button",className:"navbar-burger ".concat(e),"aria-label":"menu",onClick:this.toggleActive,"aria-expanded":"false"},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),this.renderlinks()))}}]),a}(n.Component),O=Object(N.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}})(j),y=t(55),C=t.n(y),S=function(e){var a=e.notifications;return r.a.createElement("div",null,r.a.createElement("h4",{className:"title is-4"},"Notifications :"),a&&a.map(function(e){var a;return a="newproj"===e.type?"is-primary":"is-info",r.a.createElement("article",{key:e.id,className:"message ".concat(a)},r.a.createElement("div",{className:"message-header"},r.a.createElement("p",null,r.a.createElement("strong",null,e.user)," ",e.content)),r.a.createElement("div",{className:"message-body"},C.a.unix(e.time.seconds).calendar()))}))},R=function(e){var a=e.project,t=C.a.unix(a.createdAt.seconds).calendar();return r.a.createElement("div",{className:"tile is-parent"},r.a.createElement(p.a,{to:"/project/".concat(a.id),className:"tile is-child notification is-primary"},r.a.createElement("h1",{className:"title"},a.title),r.a.createElement("h2",{className:"subtitle"},a.content.substring(0,60)+"..."),r.a.createElement("span",{className:"is-dark"},"Posted by : ","".concat(a.authorFirstName," ").concat(a.authorLastName)),r.a.createElement("div",{className:"content"},"Date : ",t)))},w=function(e){var a=e.projects;return r.a.createElement("div",{className:"tile is-ancestor"},r.a.createElement("div",{className:"tile is-vertical is-12"},a&&a.map(function(e){return r.a.createElement(R,{project:e,key:e.id})})))},P=t(27),k=t(21),A=function(e){function a(){return Object(l.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.project,t=e.auth,n=e.notifications;return t.uid?r.a.createElement("section",{id:"main",className:"section"},r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-two-fifths"},r.a.createElement("div",{className:"notification"},r.a.createElement(S,{notifications:n}))),r.a.createElement("div",{className:"column"},r.a.createElement(w,{projects:a}))))):r.a.createElement(f.a,{to:"/signin"})}}]),a}(n.Component),x=Object(k.d)(Object(N.b)(function(e){return{project:e.firestore.ordered.projects,auth:e.firebase.auth,notifications:e.firestore.ordered.notifications}}),Object(P.firestoreConnect)([{collection:"projects",orderBy:["createdAt","desc"]},{collection:"notifications",limit:5,orderBy:["time","desc"]}]))(A),I=Object(k.d)(Object(N.b)(function(e,a){var t=a.match.params.id,n=e.firestore.data.projects;return{project:n?n[t]:null,auth:e.firebase.auth}}),Object(P.firestoreConnect)([{collection:"projects"}]))(function(e){var a=e.project,t=e.auth,n=C.a.unix(a.createdAt.seconds).calendar();return t.uid?a?r.a.createElement("div",null,r.a.createElement("section",{className:"hero is-medium is-primary is-bold"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-three-fifths is-offset-one-fifth"},r.a.createElement("h1",{className:"title typeit-title"},a.title),r.a.createElement("h3",{className:"subtitle"},"By : ","".concat(a.authorFirstName," ").concat(a.authorLastName)," ",r.a.createElement("br",null),"Date : ",n)))))),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-three-fifths is-offset-one-fifth"},r.a.createElement("article",null,r.a.createElement("p",{className:"is-justified"},a.content)))))):r.a.createElement("section",{className:"section"},"Loading Project ..."):r.a.createElement(f.a,{to:"/signin"})}),T=t(33),F=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(T.a)({},e.target.id,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.signin(t.state)},t.state={email:"",password:""},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.authErrorMessage,t=e.authError;if(e.auth.uid)return r.a.createElement(f.a,{to:"/"});var n=t?"is-danger":"";return r.a.createElement("div",null,r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column is-half"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",{className:"title"},"Sign In"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input ".concat(n),type:"email",id:"email",placeholder:"Enter your email address",onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-envelope"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input ".concat(n),type:"password",id:"password",placeholder:"Enter your password",onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-lock"})))),t?r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"has-text-danger"},a)):null,r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-primary",onClick:this.handleSubmit},"Submit"))))))))}}]),a}(n.Component),U=Object(N.b)(function(e){return{authError:e.auth.authError,authErrorMessage:e.auth.authErrorMessage,auth:e.firebase.auth}},function(e){return{signin:function(a){return e(function(e){return function(a,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then(function(){a({type:"LOGIN_SUCCESS"})}).catch(function(e){a({type:"LOGIN_ERROR",err:e})})}}(a))}}})(F),_=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(T.a)({},e.target.id,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.signup(t.state)},t.state={email:"",password:"",firstname:"",lastname:""},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props,a=e.auth,t=e.authError,n=e.authErrorMessage;if(a.uid)return r.a.createElement(f.a,{to:"/"});var c=t?"is-danger":"";return r.a.createElement("div",null,r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column is-half"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",{className:"title"},"Sign Up"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"First Name"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input ".concat(c),type:"text",id:"firstname",placeholder:"e.g Alex",onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-user"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Last Name"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input ".concat(c),type:"text",id:"lastname",placeholder:"e.g Smith",onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-user"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input ".concat(c),type:"email",id:"email",placeholder:"Enter your email address",onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-envelope"})))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input ".concat(c),type:"password",id:"password",placeholder:"Enter your password",onChange:this.handleChange}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas fa-lock"})))),t?r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"has-text-danger"},n)):null,r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-primary",onClick:this.handleSubmit},"Submit"))))))))}}]),a}(n.Component),L=Object(N.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError,authErrorMessage:e.auth.authErrorMessage}},function(e){return{signup:function(a){return e(function(e){return function(a,t,n){var r=n.getFirebase,c=n.getFirestore,s=r(),l=c();s.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(a){return l.collection("users").doc(a.user.uid).set({firstname:e.firstname,lastname:e.lastname})}).then(function(){a({type:"SIGNUP_SUCCESS"})}).catch(function(e){a({type:"SIGNUP_ERROR",err:e})})}}(a))}}})(_),G=t(45),M=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(T.a)({},e.target.id,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),""!==t.state.title&&""!==t.state.content?(t.props.createProject(t.state),t.props.history.push("/")):console.log("EMPTY")},t.state={title:"",content:""},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement("div",null,r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-centered"},r.a.createElement("div",{className:"column is-8"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h1",{className:"title"},"New Post"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Title"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",id:"title",type:"text",placeholder:"Post Title",onChange:this.handleChange}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Story"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{className:"textarea",id:"content",placeholder:"Tell your story",onChange:this.handleChange}))),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"button is-primary",onClick:this.handleSubmit},"Submit")))))))):r.a.createElement(f.a,{to:"/signin"})}}]),a}(n.Component),D=Object(N.b)(function(e){return{auth:e.firebase.auth}},function(e){return{createProject:function(a){return e(function(e){return function(a,t,n){n.getFirebase;var r=(0,n.getFirestore)(),c=t().firebase.profile,s=t().firebase.auth.uid;r.collection("projects").add(Object(G.a)({},e,{authorFirstName:c.firstname,authorLastName:c.lastname,authorID:s,createdAt:new Date})).then(function(){a({type:"CREATE_PROJECT",project:e})}).catch(function(e){a({type:"CREATE_PROJECT_ERROR",err:e})})}}(a))}}})(M);function B(){return r.a.createElement("div",null,r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"content has-text-centered"},r.a.createElement("p",null,r.a.createElement("strong",null,"Typeit")," by ",r.a.createElement("a",{href:"https://ashhad.me"},"Ashhad")))))}var J=function(e){function a(){return Object(l.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(h.a,null,r.a.createElement(E.a,{exact:!0,path:"/",component:x}),r.a.createElement(E.a,{path:"/project/:id",component:I}),r.a.createElement(E.a,{path:"/signin",component:U}),r.a.createElement(E.a,{path:"/signup",component:L}),r.a.createElement(E.a,{path:"/create",component:D}),r.a.createElement(f.a,{to:"/"})),r.a.createElement(B,null)))}}]),a}(n.Component),z={authError:!1},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN_ERROR":return Object(G.a)({},e,{authError:!0,authErrorMessage:a.err.message});case"LOGIN_SUCCESS":return Object(G.a)({},e,{authError:!1});case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":return Object(G.a)({},e,{authError:!1});case"SIGNUP_ERROR":return Object(G.a)({},e,{authError:!0,authErrorMessage:a.err.message});default:return e}},H={projects:[{id:"1",title:"Title of Proj 1",content:"Contenet of the project 1"},{id:"2",title:"Title of Proj 2",content:"Contenet of the project 2"},{id:"3",title:"Title of Proj 3",content:"Contenet of the project 3"}]},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;switch((arguments.length>1?arguments[1]:void 0).type){case"CREATE_PROJECT":case"CREATE_PROJECT_ERROR":default:return e}},V=t(73),Y=Object(k.c)({auth:W,project:K,firestore:V.firestoreReducer,firebase:P.firebaseReducer}),q=t(252),Q=t(106),X=t.n(Q);t(488),t(493);X.a.initializeApp({apiKey:"AIzaSyDb9H5ViOAIubrbAaFJxT1y7vuvMjcBtwg",authDomain:"typeit-react.firebaseapp.com",databaseURL:"https://typeit-react.firebaseio.com",projectId:"typeit-react",storageBucket:"typeit-react.appspot.com",messagingSenderId:"146065888248"}),X.a.firestore();var Z=X.a,$=Object(k.e)(Y,Object(k.d)(Object(k.a)(q.a.withExtraArgument({getFirebase:P.getFirebase,getFirestore:V.getFirestore})),Object(V.reduxFirestore)(Z),Object(P.reactReduxFirebase)(Z,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0})));$.firebaseAuthIsReady.then(function(){s.a.render(r.a.createElement(N.a,{store:$},r.a.createElement(J,null)),document.getElementById("root"))})}},[[253,2,1]]]);
//# sourceMappingURL=main.73d3efed.chunk.js.map